task default: :countrb

namespace :file do
  desc "\xD0\xAD\xD1\x82\xD0\xBE \xD0\xB7\xD0\xB0\xD0\xB4\xD0\xB0\xD1\x87\xD0\xB0 \xD1\x81\xD1\x87\xD0\xB8\xD1\x82\xD0\xB0\xD0\xB5\xD1\x82 \xD0\xBA\xD0\xBE\xD0\xBB\xD0\xB8\xD1\x87\xD0\xB5\xD1\x81\xD1\x82\xD0\xB2\xD0\xBE \xD1\x84\xD0\xB0\xD0\xB9\xD0\xBB\xD0\xBE\xD0\xB2 \xD1\x81 \xD1\x80\xD0\xB0\xD1\x81\xD1\x88\xD0\xB8\xD1\x80\xD0\xB5\xD0\xBD\xD0\xB8\xD0\xB5\xD0\xBC .rb \xD0\xB2 \xD1\x82\xD0\xB5\xD0\xBA\xD1\x83\xD1\x89\xD0\xB5\xD0\xB9 \xD0\xB4\xD0\xB8\xD1\x80\xD0\xB5\xD0\xBA\xD1\x82\xD0\xBE\xD1\x80\xD0\xB8\xD0\xB8 \xD0\xB8 \xD0\xB2\xD1\x81\xD0\xB5\xD1\x85 \xD0\xB5\xD0\xB5 \xD0\xBF\xD0\xBE\xD0\xB4\xD0\xB4\xD0\xB8\xD1\x80\xD0\xB5\xD0\xBA\xD1\x82\xD0\xBE\xD1\x80\xD0\xB8\xD1\x8F\xD1\x85"
  task :countrb, [:userdir] do |_t, arg|
    puts "В директории #{arg[:userdir].nil? ? Dir.pwd : arg[:userdir]} и всех ее поддиректориях #{Dir[File.join(arg[:userdir].nil? ? Dir.pwd : arg[:userdir], '**', '*.rb')].size} файлов с расширением .rb"
  end
end
